#pragma once

#include <cxc/test/export>
#include <exception>
#include <string>
#include <memory>

namespace cxc
{
    namespace test
    {
        class cxc_test_public fail : public std::exception
        {
        public:
            fail(const std::string& message, const scope& source, const std::string& file, int line);

            virtual const char* what() const override;

            virtual const scope& get_source() const;
            virtual const std::string& get_output() const;
            virtual const std::string& get_message() const;
            virtual const std::string& get_file() const;
            virtual int get_line() const;

        private:
            class data;
            friend class fail::data;

            std::shared_ptr<data> m_data;
        };
    }
}
