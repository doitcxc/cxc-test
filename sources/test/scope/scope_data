#pragma once

#include <cxc/test/scope>
#include <deque>
#include <map>

namespace cxc
{
    namespace test
    {
        class scope::data
        {
        public:
            data(scope& self, const scope& owner, const std::string& name);
            virtual ~data();

            virtual void run();

            virtual void setup();
            virtual void release();

            virtual const std::string& get_name() const;
            virtual const std::string& get_path() const;
            virtual const std::string& get_full_name() const;
            virtual const scope& get_owner() const;

        private:
            scope& m_self;
            scope m_owner;
            std::string m_name;
            std::string m_path;
            std::string m_full_name;
            std::map<std::string, scope> m_scope;
        };
    }
}
